# api_final
## Описание

Проект является итговым вариантом реализации API проекта Yatube.
Он написан на Python, Django, Django REST Framework.

## Установка и развертывание на локальной машине
Установка происходит с помощью клонирования с репозитория:
```
git clone https://github.com/saminter22/api_final_yatube.git
```
Перейти в папку проекта:
```
cd api_final_yatube
```
Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```
```
source venv/Scripts/activate
```
Обновить пакетный менеджер pip и установить зависимости из файла requirements.txt:
```
python -m pip install --upgrade pip
```
```
pip install -r requirements.txt
```
Установить дополнительные библиотеки командой
```
pip install djoser djangorestframework-simplejwt==4.7.2
```
Перейти в папку проекта
```
cd yatube_api
```
Выполнить миграции:
```
python manage.py migrate
```
Запустить проект:
```
python manage.py runserver
```

## Примеры запросов к API
Аутентификация зарегистрированных пользователей:
необходимо отправить POST-запрос в JSON-формате:
```
{
"username": "<имя пользователя>",
"password": "<пароль>"
}
```
на эндпоинт:
```
http://127.0.0.1:8000/api/v1/jwt/create/
```
Пользователь должен быть зарегистрирован через web-интерфейс, регистрация через API не предусмотрена.
Для неавторизованных пользователей все записи достпупны только для чтения. Получение списка постов - GET-запрос на эндпоинт: 
```
http://127.0.0.1:8000/api/v1/posts/
```
Получение одной публикации - GET-запрос на эндпоинт, где id - номер публикации:
```
http://127.0.0.1:8000/api/v1/posts/{id}/
```
Получение списка групп - GET-запрос на эндпоинт:
```
http://127.0.0.1:8000/api/v1/groups/
```
Получение информации об одной группе - GET-запрос на эндпоинт, где id - номер группы:
```
http://127.0.0.1:8000/api/v1/groups/{id}/
```
Получение комментариев одной публикации - GET-запрос на эндпоинт, где {post_id} - номер публикации:
```
http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/
```
